.ProseMirror {
  @apply outline-none;
}

.tiptap :first-child {
  margin-top: 0;
}

.ProseMirror p.is-editor-empty:first-child::before {
  @apply text-foreground/40 pointer-events-none h-0 float-left;
  content: attr(data-placeholder);
}

.ProseMirror h1 {
  @apply text-2xl font-bold mb-3 mt-4;
}

.ProseMirror h2 {
  @apply text-2xl font-bold mb-3 mt-5;
}

.ProseMirror h3 {
  @apply text-xl font-bold mb-2 mt-4;
}

.ProseMirror p {
  @apply mb-2 text-base;
}

.ProseMirror ul,
.ProseMirror ol {
  @apply my-2 pl-6;
}

.ProseMirror ul {
  @apply list-disc;
}

.ProseMirror ol {
  @apply list-decimal;
}

.ProseMirror li {
  @apply mb-1;
}

.ProseMirror blockquote {
  @apply border-l-4 border-foreground/30 pl-4 my-4 italic text-foreground/80;
}

.ProseMirror code {
  @apply bg-foreground/10 text-foreground/90 px-1.5 py-0.5 rounded text-sm font-mono;
}

.ProseMirror pre {
  @apply bg-foreground/5 rounded-lg p-4 my-4 overflow-x-auto;
}

.ProseMirror pre code {
  @apply bg-transparent p-0 text-foreground;
}

.ProseMirror hr {
  @apply border-t border-foreground/20 my-6;
}

.ProseMirror a {
  @apply text-link underline cursor-pointer;
}

.ProseMirror a:hover {
  @apply text-link/80;
}

.ProseMirror strong {
  @apply font-bold;
}

.ProseMirror em {
  @apply italic;
}

.ProseMirror u {
  @apply underline;
}

.ProseMirror s {
  @apply line-through;
}

.ProseMirror span[data-muted="true"] {
  @apply text-foreground/50;
}

.ProseMirror span[data-type="emoji"] {
  @apply inline-block;
  font-style: normal;
  font-variant: normal;
  font-weight: normal;
  line-height: 1;
}

/* Details styles */
.ProseMirror .details {
  @apply flex gap-1 my-3 border border-foreground/10 rounded-lg py-3 px-3 bg-foreground/5;
}

.tiptap .details:first-child {
  @apply mt-0;
}

.ProseMirror .details summary {
  list-style: none;
}

.ProseMirror .details summary::-webkit-details-marker {
  display: none;
}

.ProseMirror .details > button {
  @apply flex items-center justify-center bg-transparent rounded-full text-[0.625rem] h-5 w-5 p-0 m-0 border-none cursor-pointer mt-0.5 shrink-0;
  line-height: 1;
  order: 999;
}

.ProseMirror .details > button:hover {
  @apply bg-foreground/10;
}

.ProseMirror .details > button::before {
  content: "";
  display: inline-block;
  width: 1rem;
  height: 1rem;
  background-color: var(--color-foreground);
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m9 18 6-6-6-6'/%3E%3C/svg%3E");
  mask-size: contain;
  mask-repeat: no-repeat;
  mask-position: center;
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m9 18 6-6-6-6'/%3E%3C/svg%3E");
  -webkit-mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
  transition: transform 0.15s ease-in-out;
  transform: rotate(90deg);
  opacity: 0.5;
}

.ProseMirror .details.is-open > button::before {
  transform: rotate(270deg);
}

.ProseMirror .details > div {
  @apply flex flex-col gap-2 w-full;
}

.ProseMirror .details > div > [data-type="detailsContent"] > :last-child {
  @apply mb-2;
}

.ProseMirror
  .details
  > div
  > [data-type="detailsContent"]:last-child
  > :last-child {
  @apply mb-0;
}

.ProseMirror .details .details {
  @apply my-2;
}

.ProseMirror .node-spoiler {
  display: inline;
  vertical-align: baseline;
}

.ProseMirror .spoiler-node-view {
  display: inline;
  vertical-align: baseline;
  white-space: normal;
  -webkit-user-select: text;
  user-select: text;
}

.ProseMirror .spoiler-node-view .flex {
  display: inline-flex;
  vertical-align: baseline;
}

.ProseMirror .spoiler-node-view .content {
  -webkit-user-select: text;
  user-select: text;
}
